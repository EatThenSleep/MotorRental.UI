<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-striped table-centered mb-0 custom-table">
            <thead>
              <tr>
                <th>Id</th>
                <th>Customer Name</th>
                <th>Motorbike Name</th>
                <th>Rental Period</th>
                <th>Rental Return</th>
                <th>Location Receive</th>
                <th>Status Appointment</th>
                <th>Status Payment</th>
                <th>Rental Price</th>
                <th>Surcharges</th>
                <th>Total</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let appoint of paginatedAppointments">
                <td>{{ appoint.Id }}</td>
                <td>
                  <a
                    href="#"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="{{ appoint.Customer.phoneNumber }}"
                  >
                    {{ appoint.Customer.name }}
                  </a>
                </td>
                <td>
                  <a
                    href="#"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="{{ appoint.Motorbike.licensePlate }}"
                  >
                    {{ appoint.Motorbike.name }}
                  </a>
                </td>
                <td>
                  <div class="rental-period">
                    <div class="rental-time">
                      <span>{{ appoint.RentalBegin | date : "longDate" }}</span>
                      <span>{{ appoint.RentalBegin | date : "HH:mm" }}</span>
                    </div>
                    <div class="rental-time">
                      <span>{{ appoint.RentalEnd | date : "longDate" }}</span>
                      <span>{{ appoint.RentalEnd | date : "HH:mm" }}</span>
                    </div>
                  </div>
                </td>
                <td>
                  <span
                    *ngIf="appoint.RentalReturn === '0001-01-01T00:00:00'"
                    style="font-size: 14px; border-radius: 8px"
                    class="badge badge-primary-lighten"
                  >
                    Chưa trả xe
                  </span>
                  <span *ngIf="appoint.RentalReturn !== '0001-01-01T00:00:00'">
                    {{ appoint.RentalReturn | date : "longDate" }}
                    {{ appoint.RentalReturn | date : "HH:mm" }}
                  </span>
                </td>

                <td>{{ appoint.LocationReceive }}</td>
                <td>
                  <div class="d-flex justify-content-center align-items-center">
                    <span
                      style="font-size: 14px; border-radius: 8px"
                      class="px-1"
                      [ngClass]="{
                        'badge badge-primary-lighten':
                          appoint.StatusAppointment === 0,
                        'badge badge-danger-lighten':
                          appoint.StatusAppointment === 1,
                        'badge badge-info-lighten':
                          appoint.StatusAppointment === 2,
                        'badge badge-success-lighten':
                          appoint.StatusAppointment === 3
                      }"
                    >
                      {{ getAppointmentStatus(appoint.StatusAppointment) }}
                    </span>
                  </div>
                </td>
                <td>
                  <div class="d-flex justify-content-center align-items-center">
                    <span
                      style="font-size: 14px; border-radius: 8px"
                      class="px-1"
                      [ngClass]="{
                        'badge badge-danger-lighten':
                          appoint.StatusPayment === 0,
                        'badge badge-success-lighten':
                          appoint.StatusPayment === 1
                      }"
                    >
                      {{ getPaymentStatus(appoint.StatusPayment) }}
                    </span>
                  </div>
                </td>
                <td>{{ appoint.RentalPrice }}</td>
                <td>
                  <ul>
                    <li *ngFor="let surcharge of appoint.Surcharge">
                      {{ surcharge.amount }}
                    </li>
                  </ul>
                </td>
                <td>{{ appoint.Total }}</td>
                <td class="d-flex justify-content-between margin-action">
                  <div class="action" style="color: green">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-check2-circle"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"
                      />
                      <path
                        d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"
                      />
                    </svg>
                  </div>
                  <div class="action" style="color: red">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-x" viewBox="0 0 16 16">
                      <path d="M6.146 6.146a.5.5 0 0 1 .708 0L8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 0 1 0-.708"/>
                      <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1"/>
                    </svg>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
        class="pagination-controls d-flex justify-content-center align-items-center mt-3"
      >
        <button
          class="mr-2 btn-primary"
          (click)="changePage(currentPage - 1)"
          [disabled]="currentPage === 1"
          [ngClass]="{ 'disabled-btn': currentPage === 1 }"
          style="border-radius: 8px"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-arrow-left"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"
            />
          </svg>
        </button>
        <span>Page {{ currentPage }} of {{ totalPages }}</span>
        <button
          style="border-radius: 8px"
          class="ml-2 btn-primary"
          (click)="changePage(currentPage + 1)"
          [disabled]="currentPage === totalPages"
          [ngClass]="{ 'disabled-btn': currentPage === totalPages }"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-arrow-right"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"
            />
          </svg>
        </button>
      </div>
      </div>
    </div>
  </div>
</div>
